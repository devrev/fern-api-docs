## Snap-in code structure

A snap-in is a Node.js project with a specific structure:

```
- manifest.yaml
- code/
  - scripts/
  - src/
    - fixtures/
    - functions/
      - external-system/
      - extraction/
        - workers/
          - attachments-extraction.ts
          - data-extraction.ts
          - external-sync-units-extraction.ts
          - metadata-extraction.ts
        - index.ts
      - install_initial_domain_mapping/
      - loading/
        - workers/
          - load-data.ts
          - data-extraction.ts
          - external-sync-units-extraction.ts
          - metadata-extraction.ts
        - index.ts
    - test-runner/
  - test/
```

The `manifest.yaml` file plays a critical role in a snap-in, holding key configuration details such as the snap-in's name, description, version, connection information, and functionality specifics. This file is the initial step in the development of a snap-in.

The `code/` folder holds the implementation of the snap-in. Inside, the `functions/` subfolder includes the logic for retrieving external sync units, extracting data from and loading data to external systems, and mapping between them.

The `scripts/` folder contains the scripts necessary for the building and deployment of the snap-in, streamlining the development and deployment processes with the help of tools like `deploy.sh` and `build.sh`.

## Setting up the snap-in configuration

Development of a snap-in starts with a `manifest.yaml`.
Manifest holds a snap-in configuration: snap-in name, description, version, connection information and information about implemented functionality.

In the template change values for

- `name`
- `description`

## Snap-in functionalities

This directory holds the snap-in's core logic. The logic for extracting data from the external system is found in the `extraction` folder, and the logic for loading data into the external system from DevRev is in the `loading` folder.

The DevRev platform enables the creation of a snap-in that can either import data from an external system into DevRev or export data from DevRev to an external system. Implementing both isn't necessary. The implemented functionalities are specified in `manifest.yaml` under the `functions` key, as shown in the starter template:

```yaml
functions:
  - name: extraction
    description: Extraction function for the template snap-in
  - name: loading
    description: Loading function for the template snap-in
  - name: install_initial_domain_mapping
    description: Create blueprint and install initial domain mapping
```

For example, removing the entry with the name loading means syncing from DevRev to the external system is not available in the UI.
