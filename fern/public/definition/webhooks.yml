# yaml-language-server: $schema=https://raw.githubusercontent.com/fern-api/fern/main/fern.schema.json

imports:
  root: __package__.yml

service:
  auth: true
  base-path: ""
  endpoints:
    create:
      path: /webhooks.create
      method: POST
      request:
        name: WebhooksCreateRequest
        body:
          properties:
            event_types:
              docs: The event types that the webhook endpoint will receive.
              type: optional<list<root.WebhookEventType>>
            secret:
              docs: >
                The secret to use when verifying webhook events. If provided,
                the
                secret must be between 8 and 32 bytes (inclusive). If not set, a
                secret will be automatically generated and provided in the
                response.
              type: optional<string>
            url:
              type: string
              docs: The URL of the webhook endpoint.
      response:
        docs: Success.
        type: root.WebhooksCreateResponse

    delete:
      path: /webhooks.delete
      method: POST
      request:
        name: WebhooksDeleteRequest
        body:
          properties:
            id:
              type: string
              docs: ID for the webhook.
      response:
        docs: Success.
        type: root.webhooks-delete-response

    get:
      path: /webhooks.get
      method: GET
      request:
        name: WebhooksGetRequest
        query-parameters:
          id:
            type: string
      response:
        docs: Success.
        type: root.WebhooksGetResponse

    list:
      path: /webhooks.list
      method: GET
      response:
        docs: Success.
        type: root.WebhooksListResponse

    update:
      path: /webhooks.update
      method: POST
      request:
        name: WebhooksUpdateRequest
        body:
          properties:
            action:
              type: optional<root.WebhooksUpdateAction>
            event_types:
              type: optional<root.WebhooksUpdateRequestEventTypes>
            id:
              type: string
              docs: ID for the webhook.
            secret:
              docs: >
                If provided, updates the secret that's used when verifying
                webhook
                events, which must be between 8 and 32 bytes (inclusive).
                Otherwise
                if empty, then a new secret is generated. If the webhook is
                active,
                then its status will transition to the 'unverified' state and it
                won't receive any object events until successfully verified.
              type: optional<string>
            url:
              docs: >
                The webhook's updated URL. If the webhook is active, then the
                webhook's status will transition to the 'unverified' state and
                it
                won't receive any object events until successfully verified.
              type: optional<string>
      response:
        docs: Success.
        type: root.WebhooksUpdateResponse
